<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vagas Disponíveis</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/vagas.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
    <link rel="shortcut icon" href="{{ url_for('static', filename='img/logotipo.jpg') }}" type="image/x-icon" />
</head>
<body>
    <header>
        <div class="header-content">
          <a href="/admin">
            <img
              class="logo"
              src="{{ url_for('static', filename='img/LOGO3_upscayl_16x_ultrasharp.png') }}"
              alt="logotipo"
            />
          </a>
          <nav style="background-color: #173751; height: 80px">
            <ul>
              <li class="dropdown">
                <a class="options" href="#">Candidaturas &nbsp;&#9660;</a>
                <ul class="submenu">
                  <li><a href="criarvaga">Criar Vagas</a></li>
                  <li><a href="vagasadmin">Vagas</a></li>
                  <li>
                    <a href="candidaturasrecebidas">Candidaturas Recebidas</a>
                  </li>
                </ul>
              </li>
              <li class="dropdown">
                <a class="options" href="#">Empresas &nbsp;&#9660;</a>
                <ul class="submenu">
                  <li><a href="pedidoscontacto">Pedidos Contacto</a></li>
                </ul>
              </li>
            </ul>
          </nav>
        </div>
      </header>

    <section class="filters">
      <form action="{{ url_for('vagas') }}" method="get" id="filterForm">
          <div class="filter-group">
              <label for="search">Pesquisar por Título da Vaga ou Área:</label>
              <input type="text" id="search" name="search" placeholder="Ex: Desenvolvedor" value="{{ request.args.get('search', '') }}" />
          </div>
          <div class="filter-group">
              <label for="location">Localização:</label>
              <select id="location" name="location">
                  <option value="">Todos</option>
                  <option value="Portugal">Portugal</option>
                  <option value="Estrangeiro">Estrangeiro</option>
                  <option value="Remoto">Remoto</option>
              </select>
          </div>
          <div class="filter-group">
              <label for="jobType">Tipo de Emprego:</label>
              <select id="jobType" name="jobType">
                  <option value="">Todos</option>
                  <option value="Full Time">Full Time</option>
                  <option value="Part-time">Part-time</option>
              </select>
          </div>
          <button type="submit">Filtrar</button>
      </form>
  </section>
  

  <section class="job-listings">
    {% for vaga in vagas %}
    <div class="job-item">
        <form action="{{ url_for('detalhevaga', vaga_id=vaga[0]) }}" method="get">            
            <h2>{{ vaga[1] }}</h2>
            <p>Área: {{ vaga[7] }}</p>
            <p>Localização: {{ vaga[5] }}</p>
            <p>Tipo de Contrato: {{ vaga[6] }}</p>
            <button class="apply-btn">Saber Mais</button>
        </form>
        <br>
        <form action="{{ url_for('apagar_vaga', vaga_id=vaga[0]) }}" method="post" style="display:inline;">
            <button type="submit" class="delete-btn">Apagar</button>
        </form>
    </div>
    {% else %}
    <p>Nenhuma vaga encontrada.</p>
    {% endfor %}
</section>


    <footer>
        <p>Email: geral@prosperaservice.com</p>
        <p>&copy; 2024 Prospera Service |</p>
    </footer>

    <script src="{{ url_for('static', filename='js/vagas.js') }}"></script>
</body>
</html>
